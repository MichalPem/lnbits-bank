(function(e){function t(t){for(var o,a,i=t[0],u=t[1],s=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},c={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"14b0":function(e,t,n){"use strict";n("583c")},"1b93":function(e,t,n){},"30f2":function(e,t,n){},"33bf":function(e,t,n){"use strict";n("30f2")},"41b8":function(e,t,n){"use strict";n("9a0e")},4511:function(e,t,n){"use strict";n("cb32")},"488b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Ge})),n.d(t,"app",(function(){return We}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),c=n("df23"),r=n.n(c),a=Object(o["createElementVNode"])("div",{style:{display:"none"},class:"fade-enter-from fade-enter-active fade-leave-to fade-leave-active"},null,-1),i=Object(o["createElementVNode"])("img",{src:r.a,class:"bitcoin_log"},null,-1);function u(e,t,n,c,r,u){var s=Object(o["resolveComponent"])("router-view"),l=Object(o["resolveComponent"])("PulseLoader");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(e){var t=e.Component;return[Object(o["createVNode"])(o["Transition"],{name:"fade"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(t)))]})),_:2},1024)]})),_:1}),this.$store.state.requestActive?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,class:"loader",loading:!0,color:"white"})):Object(o["createCommentVNode"])("",!0),a,i],64)}var s=n("8a5d"),l=n("d4ec"),d=n("bee2"),p=n("ade3"),b=n("bc3a"),m=n.n(b),f=function(){function e(){Object(l["a"])(this,e),Object(p["a"])(this,"state",null),Object(p["a"])(this,"baseURL","http://localhost:8080")}return Object(d["a"])(e,[{key:"setState",value:function(e){this.state=e}},{key:"login",value:function(e,t,n){var o=this;this.state.requestActive=!0,m.a.post(this.baseURL+"/api/login",{username:e,password:t}).then((function(e){n(e),o.state.requestActive=!1}))}},{key:"getUser",value:function(e,t){var n=this;this.state.requestActive=!0,m.a.get(this.baseURL+"/api/user",{headers:{Authorization:"Bearer "+e}}).then((function(e){n.state.requestActive=!1,t(e)}))}},{key:"getInvoice",value:function(e,t,n){var o=this;this.state.requestActive=!0,m.a.post(this.baseURL+"/api/invoice",t,{headers:{Authorization:"Bearer "+e}}).then((function(e){o.state.requestActive=!1,n(e)}))}}]),e}(),O=new f,h={name:"App",components:{PulseLoader:s["a"]},mounted:function(){null===this.$store.state.token&&this.$router.push({path:"/login"}),O.setState(this.$store.state)}},j=(n("33bf"),n("d959")),v=n.n(j);const g=v()(h,[["render",u]]);var V=g,w=n("6c02"),y=function(e){return Object(o["pushScopeId"])("data-v-6a46097b"),e=e(),Object(o["popScopeId"])(),e},N={id:"login",class:"fade-enter-active fade-enter-to"},_=y((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),k=y((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function E(e,t,n,c,r,a){var i=Object(o["resolveComponent"])("LoginMenu");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createVNode"])(i),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.input.username=e}),placeholder:"Username",required:""},null,512),[[o["vModelText"],r.input.username]]),_,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.input.password=e}),placeholder:"Password",required:""},null,512),[[o["vModelText"],r.input.password]]),k,Object(o["createElementVNode"])("button",{class:"login_button",type:"button",onClick:t[2]||(t[2]=function(e){return a.login()})},"Send")])}var C=function(e){return Object(o["pushScopeId"])("data-v-f08d6d04"),e=e(),Object(o["popScopeId"])(),e},x={class:"login_menu"},S=C((function(){return Object(o["createElementVNode"])("div",{class:"login_menu_item"},"Login",-1)})),B=C((function(){return Object(o["createElementVNode"])("div",{class:"login_menu_item"},"Register",-1)}));function M(e,t,n,c,r,a){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,[Object(o["createVNode"])(i,{to:"/login"},{default:Object(o["withCtx"])((function(){return[S]})),_:1}),Object(o["createVNode"])(i,{to:"/register"},{default:Object(o["withCtx"])((function(){return[B]})),_:1})])}var D={name:"LoginMenu",data:function(){return{loginSelected:!0}}};n("7d66");const T=v()(D,[["render",M],["__scopeId","data-v-f08d6d04"]]);var U=T,I={name:"Login",components:{LoginMenu:U},data:function(){return{input:{username:"",password:""},username:""}},methods:{login:function(){""!==this.input.username&&""!==this.input.password?O.login(this.input.username,this.input.password,this._onLoginComplete):console.log("A username and password must be present")},_onLoginComplete:function(e){this.$store.state.token=e.data.jwttoken,this.getUser()},getUser:function(){var e=this;O.getUser(this.$store.state.token,(function(t){e.$store.state.user=t.data,e.$router.push({path:"/account"})}))}}};n("620e");const q=v()(I,[["render",E],["__scopeId","data-v-6a46097b"]]);var L=q,$=(n("b0c0"),function(e){return Object(o["pushScopeId"])("data-v-037d1a18"),e=e(),Object(o["popScopeId"])(),e}),A={key:0,class:"account"},P={class:"account_d"},F={style:{float:"left","padding-left":"10px"}},R={class:"pay_menu"},z=$((function(){return Object(o["createElementVNode"])("div",{style:{"margin-right":"5px"}},"Send",-1)})),H={class:"wallet"},J={class:"balance"},K=$((function(){return Object(o["createElementVNode"])("div",{style:{"padding-left":"10px",float:"left"}},[Object(o["createElementVNode"])("b",null,"Balance")],-1)})),Q=$((function(){return Object(o["createElementVNode"])("hr",{style:{"border-style":"double",color:"#b9b9b9"}},null,-1)})),Y=$((function(){return Object(o["createElementVNode"])("div",{id:"reader"},null,-1)}));function G(e,t,n,c,r,a){var i=this,u=Object(o["resolveComponent"])("router-view");return this.$store.state.user?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",A,[Object(o["createElementVNode"])("div",P,[Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(r.user.user.name),1)]),Object(o["createElementVNode"])("div",R,[z,Object(o["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(e){return i.$router.push({path:"/account/receive"})})},"Receive")])]),Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("div",J,[K,Object(o["createElementVNode"])("span",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(r.user.wallet.balance/1e3)+" ",1),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(r.unit),1)])])]),Q,Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(e){var t=e.Component;return[Object(o["createVNode"])(o["Transition"],{name:"fade"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(t)))]})),_:2},1024)]})),_:1}),Y])):Object(o["createCommentVNode"])("",!0)}var W,X=n("9029"),Z=n("784e"),ee={name:"Account",components:{},compocomponents:{},data:function(){return{mobile:X["isMobile"],user:this.$store.state.user,qrText:"",unit:"sat"}},methods:{onScanSuccess:function(e,t){W.clear(),this.qrText=e,console.log("Code matched = ".concat(e),t)},onScanFailure:function(e){console.warn("Code scan error = ".concat(e))},createScanner:function(){W=new Z["a"]("reader",{fps:10,qrbox:{width:250,height:250}},!1),W.render(this.onScanSuccess,this.onScanFailure)}},mounted:function(){}};n("41b8");const te=v()(ee,[["render",G],["__scopeId","data-v-037d1a18"]]);var ne=te,oe=function(e){return Object(o["pushScopeId"])("data-v-10d20fda"),e=e(),Object(o["popScopeId"])(),e},ce={id:"login"},re=oe((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),ae=oe((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),ie=oe((function(){return Object(o["createElementVNode"])("br",null,null,-1)}));function ue(e,t,n,c,r,a){var i=Object(o["resolveComponent"])("LoginMenu");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ce,[Object(o["createVNode"])(i),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.input.username=e}),placeholder:"Username",required:""},null,512),[[o["vModelText"],r.input.username]]),re,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.input.password=e}),placeholder:"Password",required:""},null,512),[[o["vModelText"],r.input.password]]),ae,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"email",name:"email","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.input.email=e}),placeholder:"Email"},null,512),[[o["vModelText"],r.input.email]]),ie,Object(o["createElementVNode"])("button",{class:"login_button",type:"button",onClick:t[3]||(t[3]=function(e){return a.login()})},"Send")])}var se={name:"Login",components:{LoginMenu:U},data:function(){return{input:{username:"",password:"",email:""},username:""}},methods:{login:function(){""!==this.input.username&&""!==this.input.password?O.login(this.input.username,this.input.password,this._onLoginComplete):console.log("A username and password must be present")},_onLoginComplete:function(e){this.$store.state.token=e.data.jwttoken,this.getUser()},getUser:function(){var e=this;O.getUser(this.$store.state.token,(function(t){e.$store.state.user=t.data,e.$router.push({path:"/account"})}))}}};n("ade0");const le=v()(se,[["render",ue],["__scopeId","data-v-10d20fda"]]);var de=le,pe={key:0,class:"pos"};function be(e,t,n,c,r,a){return this.$store.state.user?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pe," POS ")):Object(o["createCommentVNode"])("",!0)}var me={name:"Pos",components:{},data:function(){return{mobile:X["isMobile"],user:this.$store.state.user,qrText:"",unit:"sat"}}};n("4511");const fe=v()(me,[["render",be],["__scopeId","data-v-fa1d037c"]]);var Oe=fe,he=function(e){return Object(o["pushScopeId"])("data-v-4b00bdcc"),e=e(),Object(o["popScopeId"])(),e},je={class:"main_menu"},ve=he((function(){return Object(o["createElementVNode"])("div",{class:"main_menu_button"},"Account",-1)})),ge=he((function(){return Object(o["createElementVNode"])("div",{class:"main_menu_button"},"Point of sale",-1)})),Ve={class:"bb"};function we(e,t,n,c,r,a){var i=Object(o["resolveComponent"])("router-link"),u=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("div",je,[Object(o["createVNode"])(i,{to:"/account"},{default:Object(o["withCtx"])((function(){return[ve]})),_:1}),Object(o["createVNode"])(i,{to:"/pos"},{default:Object(o["withCtx"])((function(){return[ge]})),_:1})]),Object(o["createElementVNode"])("div",Ve,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(e){var t=e.Component;return[Object(o["createVNode"])(o["Transition"],{name:"fade"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(t),{class:"cc"}))]})),_:2},1024)]})),_:1})])])}var ye={name:"MainMenu",components:{Pos:Oe,Account:ne}};n("8a5e");const Ne=v()(ye,[["render",we],["__scopeId","data-v-4b00bdcc"]]);var _e=Ne,ke=function(e){return Object(o["pushScopeId"])("data-v-4d2e0480"),e=e(),Object(o["popScopeId"])(),e},Ee={class:"recieve_form"},Ce=["disabled"],xe=ke((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Se=["disabled"],Be=ke((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Me={class:"recieve_buttons"};function De(e,t,n,c,r,a){var i=Object(o["resolveComponent"])("qrcode-vue");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ee,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{placeholder:"amount",type:"number",name:"amount","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.amount=e}),required:"",disabled:r.formDisabled},null,8,Ce),[[o["vModelText"],r.amount]]),xe,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{placeholder:"memo",type:"text",name:"memo","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.memo=e}),disabled:r.formDisabled},null,8,Se),[[o["vModelText"],r.memo]]),Be,Object(o["createElementVNode"])("div",Me,[Object(o["createElementVNode"])("button",{class:"ok_button",type:"button",onClick:t[2]||(t[2]=function(e){return a.cancel()}),style:{"margin-right":"4px"}},"Cancel"),Object(o["createElementVNode"])("button",{class:"ok_button",type:"button",onClick:t[3]||(t[3]=function(e){return a.send()})},"Send")]),Object(o["createVNode"])(i,{value:r.lninvoice,level:"H"},null,8,["value"]),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(r.lninvoice),1)])}var Te=n("d39c"),Ue=n.n(Te),Ie={name:"ReceiveForm",components:{QrcodeVue:Ue.a},data:function(){return{amount:"",memo:"",lninvoice:"OK",formDisabled:!1}},methods:{send:function(){var e=this;this.formDisabled||(this.formDisabled=!0,O.getInvoice(this.$store.state.token,{amount:this.amount,memo:this.memo},(function(t){e.lninvoice=t.payment_request})))},cancel:function(){this.amount="",this.memo="",this.formDisabled=!1,this.$router.push({path:"/account"})}}};n("14b0");const qe=v()(Ie,[["render",De],["__scopeId","data-v-4d2e0480"]]);var Le=qe,$e={class:"p_item",style:{"text-align":"left"}},Ae={class:"p_item",style:{"text-align":"right",width:"86%"}},Pe={class:"p_item",style:{"text-align":"right","min-width":"50px"}};function Fe(e,t,n,c,r,a){var i=this;return Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.user.payments,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"transaction",key:e},[Object(o["createElementVNode"])("span",$e,Object(o["toDisplayString"])(i.dateFormatter(e.date)),1),Object(o["createElementVNode"])("span",Ae,Object(o["toDisplayString"])(e.memo),1),Object(o["createElementVNode"])("span",Pe,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.amount/1e3)+" ",1),Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(r.unit),1)])])})),128)}n("fb6a");var Re={name:"Balance",data:function(){return{mobile:X["isMobile"],user:this.$store.state.user,qrText:"",unit:"sat"}},methods:{dateFormatter:function(e){if(this.mobile)return this.timeSince(new Date(e));var t=new Date(e);return t=new Date(t.getTime()+144e5),t.getUTCFullYear()+"/"+("0"+(t.getUTCMonth()+1)).slice(-2)+"/"+("0"+t.getUTCDate()).slice(-2)+" "+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},timeSince:function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3,n>1?Math.floor(n)+" months":(n=t/86400,n>1?Math.floor(n)+" day":(n=t/3600,n>1?Math.floor(n)+" hrs":(n=t/60,n>1?Math.floor(n)+" min":Math.floor(t)+" sec"))))}}};n("6a51");const ze=v()(Re,[["render",Fe],["__scopeId","data-v-1f41c532"]]);var He=ze,Je=[{path:"/",name:"MainMenu",component:_e,children:[{path:"/account",component:ne,children:[{path:"/account/",component:He},{path:"/account/receive",component:Le}]},{path:"/pos",component:Oe}]},{path:"/login",name:"Login",component:L},{path:"/register",name:"Register",component:de}],Ke=Object(w["a"])({history:Object(w["b"])(),routes:Je}),Qe=Ke,Ye=n("5502"),Ge=Object(Ye["a"])({state:function(){return{token:null,user:null,requestActive:!1}}}),We=Object(o["createApp"])(V).use(Ge).use(Qe);We.mount("#app")},"583c":function(e,t,n){},"5e7f":function(e,t,n){},"620e":function(e,t,n){"use strict";n("1b93")},"6a51":function(e,t,n){"use strict";n("c680")},"6fa4":function(e,t,n){},"7d66":function(e,t,n){"use strict";n("6fa4")},"8a5e":function(e,t,n){"use strict";n("488b")},"9a0e":function(e,t,n){},ade0:function(e,t,n){"use strict";n("5e7f")},c680:function(e,t,n){},cb32:function(e,t,n){},df23:function(e,t,n){e.exports=n.p+"static/img/pngfind.com-orange-lightning-png-5703769.ed7ee48a.png"}});
//# sourceMappingURL=app.3313378d.js.map